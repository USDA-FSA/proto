import{u as e}from"./useErrorState.9ccecf52.js";import{q as t,g as a,j as r,o as l,c as s,k as i,m as c,t as n,x as o,F as d,v as m}from"./vendor.98e3be04.js";const E={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String},setup(l){const s=l.DATA?l.DATA:t(null),i=l.FIELD_ERROR_CLASS?l.FIELD_ERROR_CLASS:a("fsa-field--error"),c=a("");let n=t([]);const{hasError:o,setHasError:d,errorMessage:m,setErrorMessage:E}=e(),{getClosest:u}={getClosest:(e,t)=>{for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;--a>=0&&t.item(a)!==this;);return a>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},getAnimationString:e=>{let t,a="",r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in r)void 0!==e.style[t]&&(a=r[t]);return a},hasClass:(e,t)=>(" "+e.className+" ").indexOf(" "+t+" ")>-1};function h(e){let t=e.currentTarget?e.currentTarget:e;t.id;let a=u(t,".fsa-select-multi"),r=a.querySelector('[data-behavior~="select-multi-all"]');if(r)if(t!=r){let e=a.querySelectorAll('[data-behavior~="select-multi"]').length,l=e-a.querySelectorAll('[data-behavior~="select-multi"]:checked').length;t.checked?r.checked||(l<=1?(r.indeterminate=!1,r.checked=!0):(r.indeterminate=!0,r.checked=!1)):r.checked?(r.indeterminate=!0,r.checked=!1):l==e&&(r.indeterminate=!1,r.checked=!1)}else n.forEach((e=>{e.checked=r.checked})),r.indeterminate=!1}return r((()=>{"true"==l.HAS_ERROR&&d(!0),n=document.querySelectorAll('[data-behavior~="select-multi"]');let e=null;n.forEach((t=>{t.addEventListener("click",h,!1),"checked"==t.value&&(t.checked=!0,e=t)})),h(null!=e?e:n[0])})),{hasError:o,setHasError:d,fieldErrorClass:i,selectMultiData:s,extraFieldClasses:c,resetCheckboxes:h}}},u={key:0,class:"fsa-field__label-desc"},h={class:"fsa-select-multi fsa-field__item"};E.render=function(e,t,a,r,E,f){return l(),s("div",{class:"fsa-field "+(r.hasError?r.fieldErrorClass:"")+" "+r.extraFieldClasses},[i("label",{class:"fsa-field__label",for:a.ID,id:a.ID+"_label"},[c(n(a.LABEL)+" ",1),"true"==a.REQUIRED?(l(),s("span",u,"Required")):o("",!0)],8,["for","id"]),i("div",h,[i("ul",{class:"fsa-select-multi__list","aria-describedby":a.ID+"__help"},[(l(!0),s(d,null,m(r.selectMultiData,(e=>(l(),s("li",{key:e.id,class:"fsa-select-multi__item"},[i("input",{class:"fsa-checkbox fsa-select-multi__check",type:"checkbox",id:e.id,"data-behavior":"select-multi"+(""!=e.behavior?" "+e.behavior:""),name:e.name,value:e.val},null,8,["id","data-behavior","name","value"]),i("label",{class:"fsa-select-multi__label",for:e.id},n(e.label),9,["for"])])))),128))],8,["aria-describedby"])]),a.HELP_MESSAGE?(l(),s("span",{key:0,id:a.ID+"__help",class:"fsa-field__help"},n(a.HELP_MESSAGE),9,["id"])):o("",!0),r.hasError?(l(),s("span",{key:1,id:a.ID+"__error-message",class:"fsa-field__message",role:"alert"},n(a.ERROR_MESSAGE),9,["id"])):o("",!0)],2)};export{E as default};
