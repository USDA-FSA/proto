import{i as L,r as x,j as N,_ as U,k as D,l as H,a as F,m as I,o as t,c as o,e,F as v,n as g,p as w,t as u,q as m,s as M,v as P}from"./index.8a998f4a.js";function R(){const f=L();return{goto:(i,a="")=>{i.includes("http")?a=="_blank"?window.open(i,a):window.location.href=i:f.push(i)}}}function O(){let f=x(!1),_=N({}),i=N({});const a=n=>{f=n},p=(n,h)=>{console.log("openMenu"),_=n,i=h;let b=n.getAttribute("aria-controls");n.setAttribute("aria-expanded","true"),document.getElementById(b).setAttribute("aria-hidden","false"),a(!0)},y=(n,h=!1)=>{let b=n.getAttribute("aria-controls");b&&(n.setAttribute("aria-expanded","false"),document.getElementById(b).setAttribute("aria-hidden","true"),a(!1))},s=n=>{n.addEventListener("focus",d)},l=n=>{n.removeEventListener("focus",d)},d=n=>{n.currentTarget},B=n=>{if(f&&_)try{let h=_.contains(n.target),b=i.contains(n.target);!h&&!b&&(S("closeAllMenus"),a(!1))}catch{}},A=n=>{f&&n.keyCode==27&&(S("closeAllMenus"),a(!1))},S=(n,h=null)=>{let b=document.getElementsByClassName("fds-nav-global__link--has-sub-menu");for(let E=0;E<b.length;E++){let c=b[E];c.cb=S,T(n,c)}},T=(n,h)=>{n=="addFocusListeners"?s(h):n=="removeFocusListeners"?l(h):n=="closeAllMenus"&&y(h,!0)};return{isMenuOpen:f,theItem:_,theMenu:i,openMenu:p,closeMenu:y,loopItems:S,listenForKeys:A,documentClickHandler:B}}const V={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(f,{emit:_}){const{openMenu:i,closeMenu:a,loopItems:p,listenForKeys:y,documentClickHandler:s}=O(),{goto:l}=R();let d="/proto/".substring(0,7-1);const B=x(d),A=x({}),S=D(()=>f.NAV_DATA),T=c=>{let r=c.main,k=c.side?c.side:[];return r.forEach(C=>{C.uid&&(C.uid=P())}),k.forEach(C=>{C.uid&&(C.uid=P())}),{main:r,side:k}};H(S,c=>{A.value=T(c)});function n(c){let r=document.getElementById(c),k=r.nextSibling,C=r.getAttribute("aria-expanded");p("closeAllMenus"),C=="true"?a(r,k):i(r,k)}const h=c=>{let r=document.getElementById("searchPhrase").value;console.log("p",r),_("emitSearch",{type:"default",phrase:r})},b=c=>{let r=document.getElementById("searchPhrase").value,k=document.getElementById("scopedCategory").selected;_("emitSearch",{type:"scoped",scope:k,phrase:r})},E=(c,r)=>{n(c),l(r)};return F(()=>{window.addEventListener("keydown",y),document.addEventListener("click",s),p("addFocusListeners")}),I(()=>{window.removeEventListener("keydown",y),document.removeEventListener("click",s),p("removeFocusListeners")}),{navData:A,navigateTo:E,goto:l,basePath:B,openMenu:i,closeMenu:a,loopItems:p,listenForKeys:y,toggleMenu:n,doSearch:h,doScopedSearch:b}}},j={class:"fds-nav-global"},K={class:"fds-nav-global__bd"},q={class:"fds-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},z=["data-control-id"],G={key:0},X=["id","onClick","aria-controls"],J=["id"],Q=["id"],W=["aria-labelledby"],Y=["id"],Z=["aria-labelledby"],$=["href","onClick"],ss={key:1},es=["id","onClick","aria-controls"],as=["id"],ls=["id"],ns={class:"fds-nav-global__sub-menu-bd"},ts=["aria-labelledby"],os=["href","onClick"],ds={key:2},is=["id","onClick","aria-controls"],cs=["id"],rs=["id"],_s=["aria-labelledby"],us=["id"],hs=["aria-labelledby"],bs=["href","onClick"],fs={key:3},vs=["id","onClick","aria-controls"],gs=["id"],ps=["id"],ys={class:"fds-nav-global__sub-menu-bd"},ks=["aria-labelledby"],Cs=["href","onClick"],Ss={key:4},ms=["href","onClick"],Bs={class:"fds-nav-global__text"},Es={key:0,class:"fds-nav-global__aside"},As={class:"fds-level"},Ms=["href","onClick"],Ts={class:"fds-level fds-level--inline fds-level--gutter-xs"},xs=["d"],Ns={key:1,class:"fds-nav-global__search"},ws={class:"fds-search fds-search--small",role:"search"},Ps={class:"fds-search__bd"},Ls=e("div",{class:"fds-search__entry fds-search__entry--grow"},[e("label",{class:"fds-search__label fds-search__label--sr-only",for:"searchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fds-input fds-input--small fds-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"})],-1),Us={class:"fds-search__submit"},Ds=e("span",{class:"fds-search__text"},"Search",-1),Hs=[Ds],Fs={key:2,class:"fds-nav-global__search"},Is={class:"fds-search fds-search--small",role:"search"},Rs={class:"fds-search__bd"},Os=e("div",{class:"fds-search__entry fds-search__entry--grow"},[e("label",{class:"fds-search__label fds-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fds-input fds-input--small fds-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"})],-1),Vs={class:"fds-search__entry"},js=e("label",{class:"fds-search__label fds-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),Ks={class:"fds-select fds-select--small fds-search__select",name:"scopedCategory",id:"scopedCategory"},qs=["value","selected"],zs={class:"fds-search__submit"},Gs=e("span",{class:"fds-search__text"},"Search",-1),Xs=[Gs];function Js(f,_,i,a,p,y){return t(),o("nav",null,[e("div",j,[e("div",K,[e("ul",q,[(t(!0),o(v,null,g(a.navData.main,s=>(t(),o("li",{key:s.uid,"data-control-id":s.uid,class:w("fds-nav-global__list-item "+s.columnClass)},[s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="true"?(t(),o("div",G,[e("button",{id:s.uid+"-BTN",onClick:l=>a.toggleMenu(s.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fds-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,J)],8,X),e("div",{class:"fds-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",{class:"fds-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[(t(!0),o(v,null,g(s.children,l=>(t(),o("div",{key:l.uid,class:"fds-nav-global__sub-menu-group"},[e("h3",{class:"fds-nav-global__sub-menu-title",id:l.uid},u(l.header),9,Y),e("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":l.uid},[(t(!0),o(v,null,g(l.group,d=>(t(),o("li",{key:d.uid,class:"fds-nav-global__sub-menu-item"},[e("a",{href:a.basePath+d.path,onClick:m(B=>a.navigateTo(s.uid+"-BTN",d.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},u(d.label),9,$)]))),128))],8,Z)]))),128))],8,W)],8,Q)])):s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="false"?(t(),o("div",ss,[e("button",{id:s.uid+"-BTN",onClick:l=>a.toggleMenu(s.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fds-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,as)],8,es),e("div",{class:"fds-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",ns,[e("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(t(!0),o(v,null,g(s.children,l=>(t(),o("li",{key:l.uid,class:"fds-nav-global__sub-menu-item"},[e("a",{href:a.basePath+l.path,onClick:m(d=>a.navigateTo(s.uid+"-BTN",l.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},u(l.label),9,os)]))),128))],8,ts)])],8,ls)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="true"?(t(),o("div",ds,[e("button",{id:s.uid+"-BTN",onClick:l=>a.toggleMenu(s.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fds-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,cs)],8,is),e("div",{class:"fds-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[(t(!0),o(v,null,g(s.children,l=>(t(),o("div",{key:l.uid,class:"fds-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[e("h3",{class:"fds-nav-global__sub-menu-title",id:l.uid},u(l.header),9,us),e("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":l.uid},[(t(!0),o(v,null,g(l.group,d=>(t(),o("li",{key:d.uid,class:"fds-nav-global__sub-menu-item"},[e("a",{href:a.basePath+d.path,onClick:m(B=>a.navigateTo(s.uid+"-BTN",d.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},u(d.label),9,bs)]))),128))],8,hs)],8,_s))),128))],8,rs)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="false"?(t(),o("div",fs,[e("button",{id:s.uid+"-BTN",onClick:l=>a.toggleMenu(s.uid+"-BTN"),class:"fds-nav-global__link fds-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fds-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,gs)],8,vs),e("div",{class:"fds-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",ys,[e("ul",{class:"fds-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(t(!0),o(v,null,g(s.children,l=>(t(),o("li",{key:l.id,class:"fds-nav-global__sub-menu-item"},[e("a",{href:a.basePath+l.path,onClick:m(d=>a.navigateTo(s.uid+"-BTN",l.path),["prevent"]),class:"fds-nav-global__sub-menu-link"},u(l.label),9,Cs)]))),128))],8,ks)])],8,ps)])):(t(),o("div",Ss,[e("a",{href:a.basePath+s.path,onClick:m(l=>a.goto(s.path),["prevent"]),class:"fds-nav-global__link"},[e("span",Bs,u(s.label),1)],8,ms)]))],10,z))),128))]),a.navData.side?(t(),o("div",Es,[e("div",As,[(t(!0),o(v,null,g(a.navData.side,s=>(t(),o("span",{key:s.uid},[e("a",{href:a.basePath+s.path,onClick:m(l=>a.goto(s.path),["prevent"])},[e("span",Ts,[s.icon?(t(),o("svg",{key:0,class:w(s.icon.class),"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{d:s.icon.path},null,8,xs)],2)):M("",!0),e("span",null,u(s.label),1)])],8,Ms)]))),128))])])):M("",!0),i.USE_SEARCH=="true"?(t(),o("div",Ns,[e("div",ws,[e("div",Ps,[Ls,e("div",Us,[e("button",{onClick:_[0]||(_[0]=(...s)=>a.doSearch&&a.doSearch(...s)),class:"fds-btn fds-btn--small fds-search__btn fds-search__btn--icon"},Hs)])])])])):M("",!0),i.USE_SCOPED_SEARCH=="true"?(t(),o("div",Fs,[e("div",Is,[e("div",Rs,[Os,e("div",Vs,[js,e("select",Ks,[(t(!0),o(v,null,g(f.SCOPED_SEARCH_CATEGORIES,s=>(t(),o("option",{key:s.label,value:s.val,selected:s.selected},u(s.label),9,qs))),128))])]),e("div",zs,[e("button",{onClick:_[1]||(_[1]=(...s)=>a.doScopedSearch&&a.doScopedSearch(...s)),class:"fds-btn fds-btn--small fds-search__btn fds-search__btn--icon"},Xs)])])])])):M("",!0)])])])}const Ws=U(V,[["render",Js]]);export{Ws as g,R as u};
