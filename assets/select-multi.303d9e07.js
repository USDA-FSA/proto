import{u as v}from"./useErrorState.6d65ed00.js";import{_ as D}from"./index.caec70af.js";import{v as R,g as b,j as C,o as d,f,l as u,n as L,t as h,A,F as M,y as I,z as x}from"./vendor.28259ad5.js";function O(){return{getClosest:(e,l)=>{for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(r){for(var t=(this.document||this.ownerDocument).querySelectorAll(r),_=t.length;--_>=0&&t.item(_)!==this;);return _>-1});e&&e!==document;e=e.parentNode)if(e.matches(l))return e;return null},getAnimationString:e=>{let l="",r,t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(r in t)typeof e.style[r]!="undefined"&&(l=t[r]);return l},hasClass:(e,l)=>(" "+e.className+" ").indexOf(" "+l+" ")>-1}}const F={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String},setup(n){const E=n.DATA?n.DATA:R(null),a=n.FIELD_ERROR_CLASS?n.FIELD_ERROR_CLASS:b("fsa-field--error"),e=b("");let l=R([]);const{hasError:r,setHasError:t,errorMessage:_,setErrorMessage:z}=v(),{getClosest:k}=O();C(()=>{n.HAS_ERROR=="true"&&t(!0),l=document.querySelectorAll('[data-behavior~="select-multi"]');let c=null;l.forEach(i=>{i.addEventListener("click",S,!1),i.value=="checked"&&(i.checked=!0,c=i)});let o=c!=null?c:l[0];S(o)});function S(c){let o=c.currentTarget?c.currentTarget:c;o.id;let i=k(o,".fsa-select-multi"),s=i.querySelector('[data-behavior~="select-multi-all"]');if(s)if(o!=s){let m=i.querySelectorAll('[data-behavior~="select-multi"]').length,y=i.querySelectorAll('[data-behavior~="select-multi"]:checked').length,g=m-y;o.checked?s.checked||(g<=1?(s.indeterminate=!1,s.checked=!0):(s.indeterminate=!0,s.checked=!1)):s.checked?(s.indeterminate=!0,s.checked=!1):g==m&&(s.indeterminate=!1,s.checked=!1)}else l.forEach(m=>{m.checked=s.checked}),s.indeterminate=!1}return{hasError:r,setHasError:t,fieldErrorClass:a,selectMultiData:E,extraFieldClasses:e,resetCheckboxes:S}}},T=["for","id"],p={key:0,class:"fsa-field__label-desc"},q={class:"fsa-select-multi fsa-field__item"},H=["aria-describedby"],B=["id","data-behavior","name","value"],G=["for"],N=["id"],j=["id"];function w(n,E,a,e,l,r){return d(),f("div",{class:x("fsa-field "+(e.hasError?e.fieldErrorClass:"")+" "+e.extraFieldClasses)},[u("label",{class:"fsa-field__label",for:a.ID,id:a.ID+"_label"},[L(h(a.LABEL)+" ",1),a.REQUIRED=="true"?(d(),f("span",p,"Required")):A("",!0)],8,T),u("div",q,[u("ul",{class:"fsa-select-multi__list","aria-describedby":a.ID+"__help"},[(d(!0),f(M,null,I(e.selectMultiData,t=>(d(),f("li",{key:t.id,class:"fsa-select-multi__item"},[u("input",{class:"fsa-checkbox fsa-select-multi__check",type:"checkbox",id:t.id,"data-behavior":"select-multi"+(t.behavior!=""?" "+t.behavior:""),name:t.name,value:t.val},null,8,B),u("label",{class:"fsa-select-multi__label",for:t.id},h(t.label),9,G)]))),128))],8,H)]),a.HELP_MESSAGE?(d(),f("span",{key:0,id:a.ID+"__help",class:"fsa-field__help"},h(a.HELP_MESSAGE),9,N)):A("",!0),e.hasError?(d(),f("span",{key:1,id:a.ID+"__error-message",class:"fsa-field__message",role:"alert"},h(a.ERROR_MESSAGE),9,j)):A("",!0)],2)}var V=D(F,[["render",w]]);export{V as default};
