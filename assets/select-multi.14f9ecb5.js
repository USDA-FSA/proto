import{u as v}from"./useErrorState.acadae49.js";import{_ as D,u as L}from"./index.ed98cb8c.js";import{B as A,f as b,z as I,o as n,c as d,a as _,d as y,t as u,b as h,F as C,h as M,n as x}from"./vendor.c565859c.js";const F={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String},setup(i){const m=i.DATA?i.DATA:A(null),t=i.FIELD_ERROR_CLASS?i.FIELD_ERROR_CLASS:b("fsa-field--error"),a=b("");let o=A([]);const{hasError:S,setHasError:s,errorMessage:P,setErrorMessage:Q}=v(),{getClosest:k}=L();I(()=>{i.HAS_ERROR=="true"&&s(!0),o=document.querySelectorAll('[data-behavior~="select-multi"]');let r=null;o.forEach(l=>{l.addEventListener("click",E,!1),l.value=="checked"&&(l.checked=!0,r=l)});let c=r!=null?r:o[0];E(c)});function E(r){let c=r.currentTarget?r.currentTarget:r;c.id;let l=k(c,".fsa-select-multi"),e=l.querySelector('[data-behavior~="select-multi-all"]');if(e)if(c!=e){let f=l.querySelectorAll('[data-behavior~="select-multi"]').length,g=l.querySelectorAll('[data-behavior~="select-multi"]:checked').length,R=f-g;c.checked?e.checked||(R<=1?(e.indeterminate=!1,e.checked=!0):(e.indeterminate=!0,e.checked=!1)):e.checked?(e.indeterminate=!0,e.checked=!1):R==f&&(e.indeterminate=!1,e.checked=!1)}else o.forEach(f=>{f.checked=e.checked}),e.indeterminate=!1}return{hasError:S,setHasError:s,fieldErrorClass:t,selectMultiData:m,extraFieldClasses:a,resetCheckboxes:E}}},O=["for","id"],T={key:0,class:"fsa-field__label-desc"},B={class:"fsa-select-multi fsa-field__item"},H=["aria-describedby"],q=["id","data-behavior","name","value"],G=["for"],U=["id"],j=["id"];function N(i,m,t,a,o,S){return n(),d("div",{class:x("fsa-field "+(a.hasError?a.fieldErrorClass:"")+" "+a.extraFieldClasses)},[_("label",{class:"fsa-field__label",for:t.ID,id:t.ID+"_label"},[y(u(t.LABEL)+" ",1),t.REQUIRED=="true"?(n(),d("span",T,"Required")):h("",!0)],8,O),_("div",B,[_("ul",{class:"fsa-select-multi__list","aria-describedby":t.ID+"__help"},[(n(!0),d(C,null,M(a.selectMultiData,s=>(n(),d("li",{key:s.id,class:"fsa-select-multi__item"},[_("input",{class:"fsa-checkbox fsa-select-multi__check",type:"checkbox",id:s.id,"data-behavior":"select-multi"+(s.behavior!=""?" "+s.behavior:""),name:s.name,value:s.val},null,8,q),_("label",{class:"fsa-select-multi__label",for:s.id},u(s.label),9,G)]))),128))],8,H)]),t.HELP_MESSAGE?(n(),d("span",{key:0,id:t.ID+"__help",class:"fsa-field__help"},u(t.HELP_MESSAGE),9,U)):h("",!0),a.hasError?(n(),d("span",{key:1,id:t.ID+"__error-message",class:"fsa-field__message",role:"alert"},u(t.ERROR_MESSAGE),9,j)):h("",!0)],2)}var w=D(F,[["render",N]]);export{w as default};
