import{A as U,f as B,B as M,e as L,w as D,z as N,C as H,o as n,c as o,a,F as v,h as g,n as x,t as _,D as C,b as y,v as w}from"./vendor.c565859c.js";import{_ as P}from"./index.fd33bf99.js";function T(){const h=U();return{goto:(u,l="")=>{u.includes("http")?l=="_blank"?window.open(u,l):window.location.href=u:h.push(u)}}}function F(){let h=B(!1),i=M({}),u=M({});const l=t=>{h=t},k=(t,r)=>{console.log("openMenu"),i=t,u=r;let d=t.getAttribute("aria-controls");t.setAttribute("aria-expanded","true"),document.getElementById(d).setAttribute("aria-hidden","false"),l(!0)},p=(t,r=!1)=>{let d=t.getAttribute("aria-controls");d&&(t.setAttribute("aria-expanded","false"),document.getElementById(d).setAttribute("aria-hidden","true"),l(!1))},s=t=>{t.addEventListener("focus",c)},e=t=>{t.removeEventListener("focus",c)},c=t=>{t.currentTarget},m=t=>{if(h&&i)try{let r=i.contains(t.target),d=u.contains(t.target);!r&&!d&&(S("closeAllMenus"),l(!1))}catch{}},E=t=>{h&&t.keyCode==27&&(S("closeAllMenus"),l(!1))},S=(t,r=null)=>{let d=document.getElementsByClassName("fsa-nav-global__link--has-sub-menu");for(let b=0;b<d.length;b++){let f=d[b];f.cb=S,A(t,f)}},A=(t,r)=>{t=="addFocusListeners"?s(r):t=="removeFocusListeners"?e(r):t=="closeAllMenus"&&p(r,!0)};return{isMenuOpen:h,theItem:i,theMenu:u,openMenu:k,closeMenu:p,loopItems:S,listenForKeys:E,documentClickHandler:m}}const R={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(h,{emit:i}){const{openMenu:u,closeMenu:l,loopItems:k,listenForKeys:p,documentClickHandler:s}=F(),{goto:e}=T(),c=B({}),m=L(()=>h.NAV_DATA),E=r=>{let d=r.main,b=r.side?r.side:[];return d.forEach(f=>{f.uid&&(f.uid=w())}),b.forEach(f=>{f.uid&&(f.uid=w())}),{main:d,side:b}};D(m,r=>{c.value=E(r)});function S(r){let d=r.currentTarget,b=r.currentTarget.nextSibling,f=d.getAttribute("aria-expanded");k("closeAllMenus"),f=="true"?l(d,b):u(d,b)}const A=r=>{let d=document.getElementById("searchPhrase").value;console.log("p",d),i("emitSearch",{type:"default",phrase:d})},t=r=>{let d=document.getElementById("searchPhrase").value,b=document.getElementById("scopedCategory").selected;i("emitSearch",{type:"scoped",scope:b,phrase:d})};return N(()=>{window.addEventListener("keydown",p),document.addEventListener("click",s),k("addFocusListeners")}),H(()=>{window.removeEventListener("keydown",p),document.removeEventListener("click",s),k("removeFocusListeners")}),{navData:c,goto:e,openMenu:u,closeMenu:l,loopItems:k,listenForKeys:p,toggleMenu:S,doSearch:A,doScopedSearch:t}}},O={class:"fsa-nav-global"},V={class:"fsa-nav-global__bd"},j={class:"fsa-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},z=["data-control-id"],K={key:0},G=["id","aria-controls"],X=["id"],q=["id"],J=["aria-labelledby"],Q=["id"],W=["aria-labelledby"],Y=["onClick"],Z={key:1},I=["id","aria-controls"],$=["id"],ss=["id"],as={class:"fsa-nav-global__sub-menu-bd"},es=["aria-labelledby"],ls=["onClick"],ns={key:2},os=["id","aria-controls"],ts=["id"],is=["id"],rs=["aria-labelledby"],ds=["id"],cs=["aria-labelledby"],_s=["onClick"],us={key:3},bs=["id","aria-controls"],hs=["id"],fs=["id"],vs={class:"fsa-nav-global__sub-menu-bd"},gs=["aria-labelledby"],ys=["onClick"],ks={key:4},ps=["onClick"],Cs={class:"fsa-nav-global__text"},Ss={key:0,class:"fsa-nav-global__aside"},ms={class:"fsa-level"},Es=["data-control-id"],As=["id","aria-controls"],Bs=["id"],Ms=["id"],xs={class:"fsa-nav-global__sub-menu-bd"},ws=["aria-labelledby"],Us=["onClick"],Ls=["onClick"],Ds={class:"fsa-level fsa-level--inline fsa-level--gutter-xs"},Ns=["d"],Hs={key:2,class:"fsa-nav-global__search"},Ps={class:"fsa-search fsa-search--small",role:"search"},Ts={class:"fsa-search__bd"},Fs=a("div",{class:"fsa-search__entry fsa-search__entry--grow"},[a("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"searchPhrase"},"Search [app-name]"),a("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"})],-1),Rs={class:"fsa-search__submit"},Os=a("span",{class:"fsa-search__text"},"Search",-1),Vs=[Os],js={key:3,class:"fsa-nav-global__search"},zs={class:"fsa-search fsa-search--small",role:"search"},Ks={class:"fsa-search__bd"},Gs=a("div",{class:"fsa-search__entry fsa-search__entry--grow"},[a("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]"),a("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"})],-1),Xs={class:"fsa-search__entry"},qs=a("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),Js={class:"fsa-select fsa-select--small fsa-search__select",name:"scopedCategory",id:"scopedCategory"},Qs=["value","selected"],Ws={class:"fsa-search__submit"},Ys=a("span",{class:"fsa-search__text"},"Search",-1),Zs=[Ys];function Is(h,i,u,l,k,p){return n(),o("nav",null,[a("div",O,[a("div",V,[a("ul",j,[(n(!0),o(v,null,g(l.navData.main,s=>(n(),o("li",{key:s.uid,"data-control-id":s.uid,class:x("fsa-nav-global__list-item "+s.columnClass)},[s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="true"?(n(),o("div",K,[a("button",{id:s.uid+"-BTN",onClick:i[0]||(i[0]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[a("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},_(s.label),9,X)],8,G),a("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[a("div",{class:"fsa-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[(n(!0),o(v,null,g(s.children,e=>(n(),o("div",{key:e.id,class:"fsa-nav-global__sub-menu-group"},[a("h3",{class:"fsa-nav-global__sub-menu-title",id:e.uid},_(e.header),9,Q),a("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":e.uid},[(n(!0),o(v,null,g(e.group,c=>(n(),o("li",{key:c.uid,class:"fsa-nav-global__sub-menu-item"},[a("a",{href:"#",onClick:C(m=>l.goto(c.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},_(c.label),9,Y)]))),128))],8,W)]))),128))],8,J)],8,q)])):s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="false"?(n(),o("div",Z,[a("button",{id:s.uid+"-BTN",onClick:i[1]||(i[1]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[a("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},_(s.label),9,$)],8,I),a("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[a("div",as,[a("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(n(!0),o(v,null,g(s.children,e=>(n(),o("li",{key:e.uid,class:"fsa-nav-global__sub-menu-item"},[a("a",{href:"#",onClick:C(c=>l.goto(e.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},_(e.label),9,ls)]))),128))],8,es)])],8,ss)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="true"?(n(),o("div",ns,[a("button",{id:s.uid+"-BTN",onClick:i[2]||(i[2]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[a("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},_(s.label),9,ts)],8,os),a("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[(n(!0),o(v,null,g(s.children,e=>(n(),o("div",{key:e.uid,class:"fsa-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[a("h3",{class:"fsa-nav-global__sub-menu-title",id:e.uid},_(e.header),9,ds),a("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":e.uid},[(n(!0),o(v,null,g(e.group,c=>(n(),o("li",{key:c.uid,class:"fsa-nav-global__sub-menu-item"},[a("a",{href:"#",onClick:C(m=>l.goto(c.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},_(c.label),9,_s)]))),128))],8,cs)],8,rs))),128))],8,is)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="false"?(n(),o("div",us,[a("button",{id:s.uid+"-BTN",onClick:i[3]||(i[3]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[a("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},_(s.label),9,hs)],8,bs),a("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[a("div",vs,[a("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(n(!0),o(v,null,g(s.children,e=>(n(),o("li",{key:e.id,class:"fsa-nav-global__sub-menu-item"},[a("a",{href:"#",onClick:C(c=>l.goto(e.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},_(e.label),9,ys)]))),128))],8,gs)])],8,fs)])):(n(),o("div",ks,[a("a",{href:"#",onClick:C(e=>l.goto(s.path),["prevent"]),class:"fsa-nav-global__link"},[a("span",Cs,_(s.label),1)],8,ps)]))],10,z))),128))]),l.navData.side?(n(),o("div",Ss,[a("div",ms,[(n(!0),o(v,null,g(l.navData.side,s=>(n(),o("div",{"data-control-id":s.uid,key:s.uid},[s.hasChild=="true"?(n(),o("button",{key:0,id:s.uid+"-BTN",onClick:i[4]||(i[4]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[a("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},_(s.label),9,Bs)],8,As)):y("",!0),s.hasChild=="true"?(n(),o("div",{key:1,class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[a("div",xs,[a("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(n(!0),o(v,null,g(s.children,e=>(n(),o("li",{key:e.id,class:"fsa-nav-global__sub-menu-item"},[a("a",{href:"#",onClick:C(c=>l.goto(e.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},_(e.label),9,Us)]))),128))],8,ws)])],8,Ms)):y("",!0),s.hasChild=="false"?(n(),o("a",{key:2,href:"#",onClick:C(e=>l.goto(s.path),["prevent"])},[a("span",Ds,[s.icon?(n(),o("svg",{key:0,class:x(s.icon.class),"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[a("path",{d:s.icon.path},null,8,Ns)],2)):y("",!0),a("span",null,_(s.label),1)])],8,Ls)):y("",!0)],8,Es))),128))])])):y("",!0),y("",!0),u.USE_SEARCH=="true"?(n(),o("div",Hs,[a("div",Ps,[a("div",Ts,[Fs,a("div",Rs,[a("button",{onClick:i[5]||(i[5]=(...s)=>l.doSearch&&l.doSearch(...s)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},Vs)])])])])):y("",!0),u.USE_SCOPED_SEARCH=="true"?(n(),o("div",js,[a("div",zs,[a("div",Ks,[Gs,a("div",Xs,[qs,a("select",Js,[(n(!0),o(v,null,g(h.SCOPED_SEARCH_CATEGORIES,s=>(n(),o("option",{key:s.label,value:s.val,selected:s.selected},_(s.label),9,Qs))),128))])]),a("div",Ws,[a("button",{onClick:i[6]||(i[6]=(...s)=>l.doScopedSearch&&l.doScopedSearch(...s)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},Zs)])])])])):y("",!0)])])])}var aa=P(R,[["render",Is]]);export{aa as g,T as u};
