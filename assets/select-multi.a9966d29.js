import{u as D}from"./useErrorState.fce0e2a1.js";import{_ as v,j as A,r as b,a as L,o as d,c as n,e as _,g as I,t as u,s as h,F as y,n as C,p as M,A as x}from"./index.8a998f4a.js";const F={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String},setup(a){const S=a.DATA?a.DATA:A(null),t=a.FIELD_ERROR_CLASS?a.FIELD_ERROR_CLASS:b("fds-field--error"),r=b("");let o=A([]);const{hasError:m,setHasError:l,errorMessage:Q,setErrorMessage:V}=D(),{getClosest:k}=x();L(()=>{a.HAS_ERROR=="true"&&l(!0),o=document.querySelectorAll('[data-behavior~="select-multi"]');let i=null;o.forEach(s=>{s.addEventListener("click",E,!1),s.value=="checked"&&(s.checked=!0,i=s)});let c=i!=null?i:o[0];E(c)});function E(i){let c=i.currentTarget?i.currentTarget:i;c.id;let s=k(c,".fds-select-multi"),e=s.querySelector('[data-behavior~="select-multi-all"]');if(e)if(c!=e){let f=s.querySelectorAll('[data-behavior~="select-multi"]').length,g=s.querySelectorAll('[data-behavior~="select-multi"]:checked').length,R=f-g;c.checked?e.checked||(R<=1?(e.indeterminate=!1,e.checked=!0):(e.indeterminate=!0,e.checked=!1)):e.checked?(e.indeterminate=!0,e.checked=!1):R==f&&(e.indeterminate=!1,e.checked=!1)}else o.forEach(f=>{f.checked=e.checked}),e.indeterminate=!1}return{hasError:m,setHasError:l,fieldErrorClass:t,selectMultiData:S,extraFieldClasses:r,resetCheckboxes:E}}},O=["for","id"],T={key:0,class:"fds-field__label-desc"},H={class:"fds-select-multi fds-field__item"},q=["aria-describedby"],B=["id","data-behavior","name","value"],G=["for"],U=["id"],N=["id"];function P(a,S,t,r,o,m){return d(),n("div",{class:M("fds-field "+(r.hasError?r.fieldErrorClass:"")+" "+r.extraFieldClasses)},[_("label",{class:"fds-field__label",for:t.ID,id:t.ID+"_label"},[I(u(t.LABEL)+" ",1),t.REQUIRED=="true"?(d(),n("span",T,"Required")):h("",!0)],8,O),_("div",H,[_("ul",{class:"fds-select-multi__list","aria-describedby":t.ID+"__help"},[(d(!0),n(y,null,C(r.selectMultiData,l=>(d(),n("li",{key:l.id,class:"fds-select-multi__item"},[_("input",{class:"fds-checkbox fds-select-multi__check",type:"checkbox",id:l.id,"data-behavior":"select-multi"+(l.behavior!=""?" "+l.behavior:""),name:l.name,value:l.val},null,8,B),_("label",{class:"fds-select-multi__label",for:l.id},u(l.label),9,G)]))),128))],8,q)]),t.HELP_MESSAGE?(d(),n("span",{key:0,id:t.ID+"__help",class:"fds-field__help"},u(t.HELP_MESSAGE),9,U)):h("",!0),r.hasError?(d(),n("span",{key:1,id:t.ID+"__error-message",class:"fds-field__message",role:"alert"},u(t.ERROR_MESSAGE),9,N)):h("",!0)],2)}const X=v(F,[["render",P]]);export{X as default};
