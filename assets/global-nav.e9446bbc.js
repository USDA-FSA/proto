import{A as L,f as M,B,e as U,w as D,z as H,C as N,o as n,c as t,a as e,F as v,h as g,n as x,t as u,D as m,b as S,v as w}from"./vendor.b751981a.js";import{_ as P}from"./index.5eab1d64.js";function T(){const b=L();return{goto:(_,l="")=>{_.includes("http")?l=="_blank"?window.open(_,l):window.location.href=_:b.push(_)}}}function F(){let b=M(!1),i=B({}),_=B({});const l=o=>{b=o},p=(o,r)=>{console.log("openMenu"),i=o,_=r;let d=o.getAttribute("aria-controls");o.setAttribute("aria-expanded","true"),document.getElementById(d).setAttribute("aria-hidden","false"),l(!0)},y=(o,r=!1)=>{let d=o.getAttribute("aria-controls");d&&(o.setAttribute("aria-expanded","false"),document.getElementById(d).setAttribute("aria-hidden","true"),l(!1))},s=o=>{o.addEventListener("focus",c)},a=o=>{o.removeEventListener("focus",c)},c=o=>{o.currentTarget},C=o=>{if(b&&i)try{let r=i.contains(o.target),d=_.contains(o.target);!r&&!d&&(k("closeAllMenus"),l(!1))}catch{}},E=o=>{b&&o.keyCode==27&&(k("closeAllMenus"),l(!1))},k=(o,r=null)=>{let d=document.getElementsByClassName("fsa-nav-global__link--has-sub-menu");for(let h=0;h<d.length;h++){let f=d[h];f.cb=k,A(o,f)}},A=(o,r)=>{o=="addFocusListeners"?s(r):o=="removeFocusListeners"?a(r):o=="closeAllMenus"&&y(r,!0)};return{isMenuOpen:b,theItem:i,theMenu:_,openMenu:p,closeMenu:y,loopItems:k,listenForKeys:E,documentClickHandler:C}}const I={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(b,{emit:i}){const{openMenu:_,closeMenu:l,loopItems:p,listenForKeys:y,documentClickHandler:s}=F(),{goto:a}=T(),c=M({}),C=U(()=>b.NAV_DATA),E=r=>{let d=r.main,h=r.side?r.side:[];return d.forEach(f=>{f.uid&&(f.uid=w())}),h.forEach(f=>{f.uid&&(f.uid=w())}),{main:d,side:h}};D(C,r=>{c.value=E(r)});function k(r){let d=r.currentTarget,h=r.currentTarget.nextSibling,f=d.getAttribute("aria-expanded");p("closeAllMenus"),f=="true"?l(d,h):_(d,h)}const A=r=>{let d=document.getElementById("searchPhrase").value;console.log("p",d),i("emitSearch",{type:"default",phrase:d})},o=r=>{let d=document.getElementById("searchPhrase").value,h=document.getElementById("scopedCategory").selected;i("emitSearch",{type:"scoped",scope:h,phrase:d})};return H(()=>{window.addEventListener("keydown",y),document.addEventListener("click",s),p("addFocusListeners")}),N(()=>{window.removeEventListener("keydown",y),document.removeEventListener("click",s),p("removeFocusListeners")}),{navData:c,goto:a,openMenu:_,closeMenu:l,loopItems:p,listenForKeys:y,toggleMenu:k,doSearch:A,doScopedSearch:o}}},R={class:"fsa-nav-global"},O={class:"fsa-nav-global__bd"},V={class:"fsa-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},j=["data-control-id"],z={key:0},K=["id","aria-controls"],G=["id"],X=["id"],q=["aria-labelledby"],J=["id"],Q=["aria-labelledby"],W=["onClick"],Y={key:1},Z=["id","aria-controls"],$=["id"],ss=["id"],es={class:"fsa-nav-global__sub-menu-bd"},as=["aria-labelledby"],ls=["onClick"],ns={key:2},ts=["id","aria-controls"],os=["id"],is=["id"],rs=["aria-labelledby"],ds=["id"],cs=["aria-labelledby"],_s=["onClick"],us={key:3},hs=["id","aria-controls"],bs=["id"],fs=["id"],vs={class:"fsa-nav-global__sub-menu-bd"},gs=["aria-labelledby"],ps=["onClick"],ys={key:4},ks=["onClick"],ms={class:"fsa-nav-global__text"},Cs={key:0,class:"fsa-nav-global__aside"},Ss={class:"fsa-level"},Es=["onClick"],As={class:"fsa-level fsa-level--inline fsa-level--gutter-xs"},Ms=["d"],Bs={key:1,class:"fsa-nav-global__search"},xs={class:"fsa-search fsa-search--small",role:"search"},ws={class:"fsa-search__bd"},Ls=e("div",{class:"fsa-search__entry fsa-search__entry--grow"},[e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"searchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"})],-1),Us={class:"fsa-search__submit"},Ds=e("span",{class:"fsa-search__text"},"Search",-1),Hs=[Ds],Ns={key:2,class:"fsa-nav-global__search"},Ps={class:"fsa-search fsa-search--small",role:"search"},Ts={class:"fsa-search__bd"},Fs=e("div",{class:"fsa-search__entry fsa-search__entry--grow"},[e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"})],-1),Is={class:"fsa-search__entry"},Rs=e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),Os={class:"fsa-select fsa-select--small fsa-search__select",name:"scopedCategory",id:"scopedCategory"},Vs=["value","selected"],js={class:"fsa-search__submit"},zs=e("span",{class:"fsa-search__text"},"Search",-1),Ks=[zs];function Gs(b,i,_,l,p,y){return n(),t("nav",null,[e("div",R,[e("div",O,[e("ul",V,[(n(!0),t(v,null,g(l.navData.main,s=>(n(),t("li",{key:s.uid,"data-control-id":s.uid,class:x("fsa-nav-global__list-item "+s.columnClass)},[s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="true"?(n(),t("div",z,[e("button",{id:s.uid+"-BTN",onClick:i[0]||(i[0]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,G)],8,K),e("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",{class:"fsa-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[(n(!0),t(v,null,g(s.children,a=>(n(),t("div",{key:a.id,class:"fsa-nav-global__sub-menu-group"},[e("h3",{class:"fsa-nav-global__sub-menu-title",id:a.uid},u(a.header),9,J),e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid},[(n(!0),t(v,null,g(a.group,c=>(n(),t("li",{key:c.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:"#",onClick:m(C=>l.goto(c.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(c.label),9,W)]))),128))],8,Q)]))),128))],8,q)],8,X)])):s.hasChild=="true"&&s.multiColumn=="true"&&s.hasHeaders=="false"?(n(),t("div",Y,[e("button",{id:s.uid+"-BTN",onClick:i[1]||(i[1]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,$)],8,Z),e("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",es,[e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(n(!0),t(v,null,g(s.children,a=>(n(),t("li",{key:a.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:"#",onClick:m(c=>l.goto(a.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(a.label),9,ls)]))),128))],8,as)])],8,ss)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="true"?(n(),t("div",ns,[e("button",{id:s.uid+"-BTN",onClick:i[2]||(i[2]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,os)],8,ts),e("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[(n(!0),t(v,null,g(s.children,a=>(n(),t("div",{key:a.uid,class:"fsa-nav-global__sub-menu-bd","aria-labelledby":s.uid+"-SUB"},[e("h3",{class:"fsa-nav-global__sub-menu-title",id:a.uid},u(a.header),9,ds),e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid},[(n(!0),t(v,null,g(a.group,c=>(n(),t("li",{key:c.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:"#",onClick:m(C=>l.goto(c.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(c.label),9,_s)]))),128))],8,cs)],8,rs))),128))],8,is)])):s.hasChild=="true"&&s.multiColumn=="false"&&s.hasHeaders=="false"?(n(),t("div",us,[e("button",{id:s.uid+"-BTN",onClick:i[3]||(i[3]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":s.uid},[e("span",{class:"fsa-nav-global__text",id:s.uid+"-SUB"},u(s.label),9,bs)],8,hs),e("div",{class:"fsa-nav-global__sub-menu",id:s.uid,"aria-hidden":"true"},[e("div",vs,[e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":s.uid+"-SUB"},[(n(!0),t(v,null,g(s.children,a=>(n(),t("li",{key:a.id,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:"#",onClick:m(c=>l.goto(a.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(a.label),9,ps)]))),128))],8,gs)])],8,fs)])):(n(),t("div",ys,[e("a",{href:"#",onClick:m(a=>l.goto(s.path),["prevent"]),class:"fsa-nav-global__link"},[e("span",ms,u(s.label),1)],8,ks)]))],10,j))),128))]),l.navData.side?(n(),t("div",Cs,[e("div",Ss,[(n(!0),t(v,null,g(l.navData.side,s=>(n(),t("span",{key:s.uid},[e("a",{href:"#",onClick:m(a=>l.goto(s.path),["prevent"])},[e("span",As,[s.icon?(n(),t("svg",{key:0,class:x(s.icon.class),"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{d:s.icon.path},null,8,Ms)],2)):S("",!0),e("span",null,u(s.label),1)])],8,Es)]))),128))])])):S("",!0),_.USE_SEARCH=="true"?(n(),t("div",Bs,[e("div",xs,[e("div",ws,[Ls,e("div",Us,[e("button",{onClick:i[4]||(i[4]=(...s)=>l.doSearch&&l.doSearch(...s)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},Hs)])])])])):S("",!0),_.USE_SCOPED_SEARCH=="true"?(n(),t("div",Ns,[e("div",Ps,[e("div",Ts,[Fs,e("div",Is,[Rs,e("select",Os,[(n(!0),t(v,null,g(b.SCOPED_SEARCH_CATEGORIES,s=>(n(),t("option",{key:s.label,value:s.val,selected:s.selected},u(s.label),9,Vs))),128))])]),e("div",js,[e("button",{onClick:i[5]||(i[5]=(...s)=>l.doScopedSearch&&l.doScopedSearch(...s)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},Ks)])])])])):S("",!0)])])])}var Js=P(I,[["render",Gs]]);export{Js as g,T as u};
