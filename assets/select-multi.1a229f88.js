import{u as v}from"./useErrorState.e56737de.js";import{_ as D}from"./index.d26b068c.js";import{q as R,g as b,j as C,o as d,f,l as u,n as L,t as h,A,F as M,x as I,y as x}from"./vendor.054b4197.js";function O(){return{getClosest:(e,r)=>{for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var t=(this.document||this.ownerDocument).querySelectorAll(a),_=t.length;--_>=0&&t.item(_)!==this;);return _>-1});e&&e!==document;e=e.parentNode)if(e.matches(r))return e;return null},getAnimationString:e=>{let r="",a,t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in t)typeof e.style[a]!="undefined"&&(r=t[a]);return r},hasClass:(e,r)=>(" "+e.className+" ").indexOf(" "+r+" ")>-1}}const q={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String},setup(n){const E=n.DATA?n.DATA:R(null),l=n.FIELD_ERROR_CLASS?n.FIELD_ERROR_CLASS:b("fsa-field--error"),e=b("");let r=R([]);const{hasError:a,setHasError:t,errorMessage:_,setErrorMessage:U}=v(),{getClosest:k}=O();C(()=>{n.HAS_ERROR=="true"&&t(!0),r=document.querySelectorAll('[data-behavior~="select-multi"]');let c=null;r.forEach(i=>{i.addEventListener("click",S,!1),i.value=="checked"&&(i.checked=!0,c=i)});let o=c!=null?c:r[0];S(o)});function S(c){let o=c.currentTarget?c.currentTarget:c;o.id;let i=k(o,".fsa-select-multi"),s=i.querySelector('[data-behavior~="select-multi-all"]');if(s)if(o!=s){let m=i.querySelectorAll('[data-behavior~="select-multi"]').length,y=i.querySelectorAll('[data-behavior~="select-multi"]:checked').length,g=m-y;o.checked?s.checked||(g<=1?(s.indeterminate=!1,s.checked=!0):(s.indeterminate=!0,s.checked=!1)):s.checked?(s.indeterminate=!0,s.checked=!1):g==m&&(s.indeterminate=!1,s.checked=!1)}else r.forEach(m=>{m.checked=s.checked}),s.indeterminate=!1}return{hasError:a,setHasError:t,fieldErrorClass:l,selectMultiData:E,extraFieldClasses:e,resetCheckboxes:S}}},F=["for","id"],T={key:0,class:"fsa-field__label-desc"},p={class:"fsa-select-multi fsa-field__item"},H=["aria-describedby"],B=["id","data-behavior","name","value"],G=["for"],N=["id"],j=["id"];function w(n,E,l,e,r,a){return d(),f("div",{class:x("fsa-field "+(e.hasError?e.fieldErrorClass:"")+" "+e.extraFieldClasses)},[u("label",{class:"fsa-field__label",for:l.ID,id:l.ID+"_label"},[L(h(l.LABEL)+" ",1),l.REQUIRED=="true"?(d(),f("span",T,"Required")):A("",!0)],8,F),u("div",p,[u("ul",{class:"fsa-select-multi__list","aria-describedby":l.ID+"__help"},[(d(!0),f(M,null,I(e.selectMultiData,t=>(d(),f("li",{key:t.id,class:"fsa-select-multi__item"},[u("input",{class:"fsa-checkbox fsa-select-multi__check",type:"checkbox",id:t.id,"data-behavior":"select-multi"+(t.behavior!=""?" "+t.behavior:""),name:t.name,value:t.val},null,8,B),u("label",{class:"fsa-select-multi__label",for:t.id},h(t.label),9,G)]))),128))],8,H)]),l.HELP_MESSAGE?(d(),f("span",{key:0,id:l.ID+"__help",class:"fsa-field__help"},h(l.HELP_MESSAGE),9,N)):A("",!0),e.hasError?(d(),f("span",{key:1,id:l.ID+"__error-message",class:"fsa-field__message",role:"alert"},h(l.ERROR_MESSAGE),9,j)):A("",!0)],2)}var V=D(q,[["render",w]]);export{V as default};
