import{A as L,f as T,B as w,e as U,w as D,z as H,C as F,o as t,c as o,a as e,F as v,h as g,n as N,t as u,D as m,b as x,v as P}from"./vendor.c565859c.js";import{_ as I}from"./index.6600af25.js";function R(){const f=L();return{goto:(r,s="")=>{r.includes("http")?s=="_blank"?window.open(r,s):window.location.href=r:f.push(r)}}}function O(){let f=T(!1),_=w({}),r=w({});const s=n=>{f=n},p=(n,h)=>{console.log("openMenu"),_=n,r=h;let b=n.getAttribute("aria-controls");n.setAttribute("aria-expanded","true"),document.getElementById(b).setAttribute("aria-hidden","false"),s(!0)},y=(n,h=!1)=>{let b=n.getAttribute("aria-controls");b&&(n.setAttribute("aria-expanded","false"),document.getElementById(b).setAttribute("aria-hidden","true"),s(!1))},a=n=>{n.addEventListener("focus",i)},l=n=>{n.removeEventListener("focus",i)},i=n=>{n.currentTarget},B=n=>{if(f&&_)try{let h=_.contains(n.target),b=r.contains(n.target);!h&&!b&&(S("closeAllMenus"),s(!1))}catch{}},A=n=>{f&&n.keyCode==27&&(S("closeAllMenus"),s(!1))},S=(n,h=null)=>{let b=document.getElementsByClassName("fsa-nav-global__link--has-sub-menu");for(let E=0;E<b.length;E++){let c=b[E];c.cb=S,M(n,c)}},M=(n,h)=>{n=="addFocusListeners"?a(h):n=="removeFocusListeners"?l(h):n=="closeAllMenus"&&y(h,!0)};return{isMenuOpen:f,theItem:_,theMenu:r,openMenu:p,closeMenu:y,loopItems:S,listenForKeys:A,documentClickHandler:B}}const V={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(f,{emit:_}){const{openMenu:r,closeMenu:s,loopItems:p,listenForKeys:y,documentClickHandler:a}=O(),{goto:l}=R();let i="/proto/".substring(0,"/proto/".length-1);const B=T(i),A=T({}),S=U(()=>f.NAV_DATA),M=c=>{let d=c.main,k=c.side?c.side:[];return d.forEach(C=>{C.uid&&(C.uid=P())}),k.forEach(C=>{C.uid&&(C.uid=P())}),{main:d,side:k}};D(S,c=>{A.value=M(c)});function n(c){let d=document.getElementById(c),k=d.nextSibling,C=d.getAttribute("aria-expanded");p("closeAllMenus"),C=="true"?s(d,k):r(d,k)}const h=c=>{let d=document.getElementById("searchPhrase").value;console.log("p",d),_("emitSearch",{type:"default",phrase:d})},b=c=>{let d=document.getElementById("searchPhrase").value,k=document.getElementById("scopedCategory").selected;_("emitSearch",{type:"scoped",scope:k,phrase:d})},E=(c,d)=>{n(c),l(d)};return H(()=>{window.addEventListener("keydown",y),document.addEventListener("click",a),p("addFocusListeners")}),F(()=>{window.removeEventListener("keydown",y),document.removeEventListener("click",a),p("removeFocusListeners")}),{navData:A,navigateTo:E,goto:l,basePath:B,openMenu:r,closeMenu:s,loopItems:p,listenForKeys:y,toggleMenu:n,doSearch:h,doScopedSearch:b}}},j={class:"fsa-nav-global"},z={class:"fsa-nav-global__bd"},K={class:"fsa-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},G=["data-control-id"],X={key:0},q=["id","onClick","aria-controls"],J=["id"],Q=["id"],W=["aria-labelledby"],Y=["id"],Z=["aria-labelledby"],$=["href","onClick"],aa={key:1},ea=["id","onClick","aria-controls"],sa=["id"],la=["id"],na={class:"fsa-nav-global__sub-menu-bd"},ta=["aria-labelledby"],oa=["href","onClick"],ia={key:2},ra=["id","onClick","aria-controls"],ca=["id"],da=["id"],_a=["aria-labelledby"],ua=["id"],ha=["aria-labelledby"],ba=["href","onClick"],fa={key:3},va=["id","onClick","aria-controls"],ga=["id"],pa=["id"],ya={class:"fsa-nav-global__sub-menu-bd"},ka=["aria-labelledby"],Ca=["href","onClick"],Sa={key:4},ma=["href","onClick"],Ba={class:"fsa-nav-global__text"},Ea={key:0,class:"fsa-nav-global__aside"},Aa={class:"fsa-level"},xa=["href","onClick"],Ma={class:"fsa-level fsa-level--inline fsa-level--gutter-xs"},Ta=["d"],wa={key:1,class:"fsa-nav-global__search"},Na={class:"fsa-search fsa-search--small",role:"search"},Pa={class:"fsa-search__bd"},La=e("div",{class:"fsa-search__entry fsa-search__entry--grow"},[e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"searchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"})],-1),Ua={class:"fsa-search__submit"},Da=e("span",{class:"fsa-search__text"},"Search",-1),Ha=[Da],Fa={key:2,class:"fsa-nav-global__search"},Ia={class:"fsa-search fsa-search--small",role:"search"},Ra={class:"fsa-search__bd"},Oa=e("div",{class:"fsa-search__entry fsa-search__entry--grow"},[e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]"),e("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"})],-1),Va={class:"fsa-search__entry"},ja=e("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),za={class:"fsa-select fsa-select--small fsa-search__select",name:"scopedCategory",id:"scopedCategory"},Ka=["value","selected"],Ga={class:"fsa-search__submit"},Xa=e("span",{class:"fsa-search__text"},"Search",-1),qa=[Xa];function Ja(f,_,r,s,p,y){return t(),o("nav",null,[e("div",j,[e("div",z,[e("ul",K,[(t(!0),o(v,null,g(s.navData.main,a=>(t(),o("li",{key:a.uid,"data-control-id":a.uid,class:N("fsa-nav-global__list-item "+a.columnClass)},[a.hasChild=="true"&&a.multiColumn=="true"&&a.hasHeaders=="true"?(t(),o("div",X,[e("button",{id:a.uid+"-BTN",onClick:l=>s.toggleMenu(a.uid+"-BTN"),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[e("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,J)],8,q),e("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[e("div",{class:"fsa-nav-global__sub-menu-bd","aria-labelledby":a.uid+"-SUB"},[(t(!0),o(v,null,g(a.children,l=>(t(),o("div",{key:l.uid,class:"fsa-nav-global__sub-menu-group"},[e("h3",{class:"fsa-nav-global__sub-menu-title",id:l.uid},u(l.header),9,Y),e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":l.uid},[(t(!0),o(v,null,g(l.group,i=>(t(),o("li",{key:i.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:s.basePath+i.path,onClick:m(B=>s.navigateTo(a.uid+"-BTN",i.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(i.label),9,$)]))),128))],8,Z)]))),128))],8,W)],8,Q)])):a.hasChild=="true"&&a.multiColumn=="true"&&a.hasHeaders=="false"?(t(),o("div",aa,[e("button",{id:a.uid+"-BTN",onClick:l=>s.toggleMenu(a.uid+"-BTN"),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[e("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,sa)],8,ea),e("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[e("div",na,[e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid+"-SUB"},[(t(!0),o(v,null,g(a.children,l=>(t(),o("li",{key:l.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:s.basePath+l.path,onClick:m(i=>s.navigateTo(a.uid+"-BTN",l.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(l.label),9,oa)]))),128))],8,ta)])],8,la)])):a.hasChild=="true"&&a.multiColumn=="false"&&a.hasHeaders=="true"?(t(),o("div",ia,[e("button",{id:a.uid+"-BTN",onClick:l=>s.toggleMenu(a.uid+"-BTN"),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[e("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,ca)],8,ra),e("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[(t(!0),o(v,null,g(a.children,l=>(t(),o("div",{key:l.uid,class:"fsa-nav-global__sub-menu-bd","aria-labelledby":a.uid+"-SUB"},[e("h3",{class:"fsa-nav-global__sub-menu-title",id:l.uid},u(l.header),9,ua),e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":l.uid},[(t(!0),o(v,null,g(l.group,i=>(t(),o("li",{key:i.uid,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:s.basePath+i.path,onClick:m(B=>s.navigateTo(a.uid+"-BTN",i.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(i.label),9,ba)]))),128))],8,ha)],8,_a))),128))],8,da)])):a.hasChild=="true"&&a.multiColumn=="false"&&a.hasHeaders=="false"?(t(),o("div",fa,[e("button",{id:a.uid+"-BTN",onClick:l=>s.toggleMenu(a.uid+"-BTN"),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[e("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,ga)],8,va),e("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[e("div",ya,[e("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid+"-SUB"},[(t(!0),o(v,null,g(a.children,l=>(t(),o("li",{key:l.id,class:"fsa-nav-global__sub-menu-item"},[e("a",{href:s.basePath+l.path,onClick:m(i=>s.navigateTo(a.uid+"-BTN",l.path),["prevent"]),class:"fsa-nav-global__sub-menu-link"},u(l.label),9,Ca)]))),128))],8,ka)])],8,pa)])):(t(),o("div",Sa,[e("a",{href:s.basePath+a.path,onClick:m(l=>s.goto(a.path),["prevent"]),class:"fsa-nav-global__link"},[e("span",Ba,u(a.label),1)],8,ma)]))],10,G))),128))]),s.navData.side?(t(),o("div",Ea,[e("div",Aa,[(t(!0),o(v,null,g(s.navData.side,a=>(t(),o("span",{key:a.uid},[e("a",{href:s.basePath+a.path,onClick:m(l=>s.goto(a.path),["prevent"])},[e("span",Ma,[a.icon?(t(),o("svg",{key:0,class:N(a.icon.class),"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e("path",{d:a.icon.path},null,8,Ta)],2)):x("",!0),e("span",null,u(a.label),1)])],8,xa)]))),128))])])):x("",!0),r.USE_SEARCH=="true"?(t(),o("div",wa,[e("div",Na,[e("div",Pa,[La,e("div",Ua,[e("button",{onClick:_[0]||(_[0]=(...a)=>s.doSearch&&s.doSearch(...a)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},Ha)])])])])):x("",!0),r.USE_SCOPED_SEARCH=="true"?(t(),o("div",Fa,[e("div",Ia,[e("div",Ra,[Oa,e("div",Va,[ja,e("select",za,[(t(!0),o(v,null,g(f.SCOPED_SEARCH_CATEGORIES,a=>(t(),o("option",{key:a.label,value:a.val,selected:a.selected},u(a.label),9,Ka))),128))])]),e("div",Ga,[e("button",{onClick:_[1]||(_[1]=(...a)=>s.doScopedSearch&&s.doScopedSearch(...a)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},qa)])])])])):x("",!0)])])])}var Ya=I(V,[["render",Ja]]);export{Ya as g,R as u};
