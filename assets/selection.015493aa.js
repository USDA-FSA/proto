import{u as g}from"./useErrorState.fce0e2a1.js";import{u as b}from"./usePopoverControls.72b59f05.js";import{_ as A,j as D,r as S,a as O,o as s,c as t,e as a,g as R,t as _,s as o,p as c,z as m,F as f,n as h}from"./index.8a998f4a.js";const I={props:{ID:String,LABEL:String,DATA:Array,REQUIRED:String,SELECT_CLASSES:String,EXTRA_CLASSES:String,FIELD_ERROR_CLASS:String,ARIA_REQUIRED:String,HELP_MESSAGE:String,ERROR_MESSAGE:String,HAS_ERROR:String,USE_POPOVER:String,POPOVER_TYPE:String,POPOVER_CLASSES:String,POPOVER_ID:String,POPOVER_HEADER:String},setup(d){const r=d.DATA?d.DATA:D(null),e=d.FIELD_ERROR_CLASS?d.FIELD_ERROR_CLASS:S("fds-field--error"),l=d.EXTRA_CLASSES?d.EXTRA_CLASSES:S("");let E=S(!1);const{hasError:u,setHasError:i,errorMessage:n,setErrorMessage:ee}=g(),{showPopover:v,hidePopover:P}=b();return O(()=>{r[0].groupData&&(E.value=!0),d.HAS_ERROR=="true"&&i(!0)}),{hasError:u,setHasError:i,fieldErrorClass:e,selectionData:r,extraFieldClasses:l,isGroupedData:E,showPopover:v,hidePopover:P}}},L=["for","id"],C={key:0,class:"fds-field__label-desc"},w={key:1,class:"fds-field__label-desc fds-m-l--xxs"},y=["data-target"],V={key:0,class:"fds-icon fds-icon--size-1","aria-hidden":"true",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},k=a("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1),x=[k],T={key:1,class:"fds-icon fds-icon--size-1","aria-hidden":"true",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},z=a("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),M=[z],H=["id"],B={class:"fds-popover__content"},G={class:"fds-popover__hd"},U={class:"fds-level@m fds-level--justify-between"},F={class:"fds-popover__title"},q=a("svg",{class:"fds-icon fds-icon--size-2","aria-hidden":"false",focusable:"false",role:"img",fill:"#494440",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[a("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1),Q=[q],N={class:"fds-popover__bd"},X=R("Help text body content"),Y=["id","aria-describedby","aria-required","name"],j=["label"],J=["value","selected","disabled"],K=["id","aria-describedby","aria-required","name"],W=["value","selected","disabled"],Z=["id"],p=["id"];function $(d,r,e,l,E,u){return s(),t("div",{class:c("fds-field "+(l.hasError?l.fieldErrorClass:"")+" "+l.extraFieldClasses)},[a("label",{class:"fds-field__label",for:e.ID,id:e.ID+"_label"},[R(_(e.LABEL)+" ",1),e.REQUIRED=="true"?(s(),t("span",C,"Required")):o("",!0),e.USE_POPOVER=="true"?(s(),t("span",w,[a("button",{onClick:r[0]||(r[0]=i=>l.showPopover(e.POPOVER_ID)),class:"fds-btn fds-btn--flat","data-behavior":"toggle-popover","data-target":e.POPOVER_ID},[e.POPOVER_TYPE=="help"?(s(),t("svg",V,x)):o("",!0),e.POPOVER_TYPE=="info"?(s(),t("svg",T,M)):o("",!0)],8,y)])):o("",!0)],8,L),e.USE_POPOVER?(s(),t("div",{key:0,class:c("fds-popover "+e.POPOVER_CLASSES),id:e.POPOVER_ID,"aria-hidden":"true"},[a("div",B,[a("div",G,[a("div",U,[a("span",F,_(e.POPOVER_HEADER),1),a("button",{onClick:r[1]||(r[1]=i=>l.hidePopover(e.POPOVER_ID)),class:"",type:"button"},Q)])]),a("div",N,[m(d.$slots,"default",{},()=>[X])])])],10,H)):o("",!0),l.isGroupedData?(s(),t("select",{key:1,class:c("fds-select fds-field__item "+e.SELECT_CLASSES),id:e.ID,"aria-describedby":e.ID+"__help","aria-required":e.ARIA_REQUIRED,name:e.ID},[(s(!0),t(f,null,h(l.selectionData,i=>(s(),t("optgroup",{key:i.groupId,label:i.groupLabel},[(s(!0),t(f,null,h(i.groupData,n=>(s(),t("option",{key:n.id,value:n.val,selected:n.isSelected?"selected":null,disabled:n.isDisabled?"disabled":null},_(n.label),9,J))),128))],8,j))),128))],10,Y)):o("",!0),l.isGroupedData?o("",!0):(s(),t("select",{key:2,class:c("fds-select fds-field__item"+e.SELECT_CLASSES),id:e.ID,"aria-describedby":e.ID+"__help","aria-required":e.ARIA_REQUIRED,name:e.ID},[(s(!0),t(f,null,h(l.selectionData,i=>(s(),t("option",{key:i.id,value:i.val,selected:i.isSelected?"selected":null,disabled:i.isDisabled?"disabled":null},_(i.label),9,W))),128))],10,K)),e.HELP_MESSAGE?(s(),t("span",{key:3,id:e.ID+"__help",class:"fds-field__help"},_(e.HELP_MESSAGE),9,Z)):o("",!0),l.hasError?(s(),t("span",{key:4,id:e.ID+"__error-message",class:"fds-field__message",role:"alert"},_(e.ERROR_MESSAGE),9,p)):o("",!0)],2)}const le=A(I,[["render",$]]);export{le as default};
