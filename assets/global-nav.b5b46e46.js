import{g as a,q as e,j as s,s as l,r as n,o as t,c as i,k as o,F as r,v as c,x as d,t as u,l as _,m as b}from"./vendor.98e3be04.js";function f(){let s=a(!1),l=e({}),n=e({});const t=a=>{s=a},i=(a,e=!1)=>{console.log("closeMenu");let s=a.getAttribute("aria-controls");a.setAttribute("aria-expanded","false"),document.getElementById(s).setAttribute("aria-hidden","true"),t(!1)},o=a=>{a.currentTarget},r=(a,e=null)=>{let s=document.getElementsByClassName("fsa-nav-global__link--has-sub-menu");for(let l=0;l<s.length;l++){let e=s[l];e.cb=r,c(a,e)}},c=(a,e)=>{"addFocusListeners"==a?(a=>{a.addEventListener("focus",o)})(e):"removeFocusListeners"==a?(a=>{a.removeEventListener("focus",o)})(e):"closeAllMenus"==a&&i(e,!0)};return{isMenuOpen:s,theItem:l,theMenu:n,openMenu:(a,e)=>{console.log("openMenu"),l=a,n=e;let s=a.getAttribute("aria-controls");a.setAttribute("aria-expanded","true"),document.getElementById(s).setAttribute("aria-hidden","false"),t(!0)},closeMenu:i,loopItems:r,listenForKeys:a=>{s&&27==a.keyCode&&(r("closeAllMenus"),t(!1))},documentClickHandler:a=>{if(s&&l)try{let e=l.contains(a.target),s=n.contains(a.target);e||s||(r("closeAllMenus"),t(!1))}catch(e){}}}}const h={props:{NAV_DATA:Object,EXTRA_CLASSES:String,USE_SEARCH:String,USE_SCOPED_SEARCH:String},setup(a,{emit:e}){const{openMenu:n,closeMenu:t,loopItems:i,listenForKeys:o,documentClickHandler:r}=f();return s((()=>{console.log("global-nav onMounted",a.NAV_DATA),window.addEventListener("keydown",o),document.addEventListener("click",r),i("addFocusListeners")})),l((()=>{window.removeEventListener("keydown",o),document.removeEventListener("click",r),i("removeFocusListeners")})),{openMenu:n,closeMenu:t,loopItems:i,listenForKeys:o,toggleMenu:function(a){let e=a.currentTarget,s=a.currentTarget.nextSibling,l=e.getAttribute("aria-expanded");i("closeAllMenus"),"true"==l?t(e,s):n(e,s)},doSearch:a=>{let s=document.getElementById("searchPhrase").value;console.log("p",s),e("emitSearch",{type:"default",phrase:s})},doScopedSearch:a=>{let s=document.getElementById("searchPhrase").value,l=document.getElementById("scopedCategory").selected;e("emitSearch",{type:"scoped",scope:l,phrase:s})}}}},g={class:"fsa-nav-global"},v={class:"fsa-nav-global__bd"},m={class:"fsa-nav-global__list","aria-label":"Primary Navigation",id:"primary-navigation"},p={key:0},y={key:1},S={class:"fsa-nav-global__sub-menu-bd"},k={key:2},A={class:"fsa-nav-global__sub-menu-bd"},C={key:3},E={class:"fsa-nav-global__text"},M={key:0,class:"fsa-nav-global__aside"},x={class:"fsa-level"},B={class:"fsa-level fsa-level--inline fsa-level--gutter-xs"},T={key:1,class:"fsa-nav-global__search"},w={class:"fsa-search fsa-search--small",role:"search"},L={class:"fsa-search__bd"},P=o("div",{class:"fsa-search__entry fsa-search__entry--grow"},[o("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"searchPhrase"},"Search [app-name]"),o("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"searchPhrase",type:"search",name:"searchPhrase"})],-1),I={class:"fsa-search__submit"},N=o("span",{class:"fsa-search__text"},"Search",-1),U={key:2,class:"fsa-nav-global__search"},H={class:"fsa-search fsa-search--small",role:"search"},R={class:"fsa-search__bd"},D=o("div",{class:"fsa-search__entry fsa-search__entry--grow"},[o("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedSearchPhrase"},"Search [app-name]"),o("input",{placeholder:"Search",class:"fsa-input fsa-input--small fsa-search__input",id:"scopedSearchPhrase",type:"search",name:"scopedSearchPhrase"})],-1),F={class:"fsa-search__entry"},O=o("label",{class:"fsa-search__label fsa-search__label--sr-only",for:"scopedCategory"},"Search Category",-1),V={class:"fsa-select fsa-select--small fsa-search__select",name:"scopedCategory",id:"scopedCategory"},j={class:"fsa-search__submit"},K=o("span",{class:"fsa-search__text"},"Search",-1);h.render=function(a,e,s,l,f,h){const X=n("router-link");return t(),i("nav",null,[o("div",g,[o("div",v,[o("ul",m,[(t(!0),i(r,null,c(s.NAV_DATA.main,(a=>(t(),i("li",{key:a.uid,class:"fsa-nav-global__list-item "+a.columnClass},["true"==a.hasChild&&a.columnClass==s.EXTRA_CLASSES&&"true"==a.hasHeaders?(t(),i("div",p,[o("button",{id:a.uid+"-BTN",onClick:e[1]||(e[1]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[o("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,["id"])],8,["id","aria-controls"]),o("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[o("div",{class:"fsa-nav-global__sub-menu-bd","aria-labelledby":a.uid+"-SUB"},[(t(!0),i(r,null,c(a.children,(a=>(t(),i("div",{key:a.id,class:"fsa-nav-global__sub-menu-group"},[o("h3",{class:"fsa-nav-global__sub-menu-title",id:a.uid},u(a.header),9,["id"]),o("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid},[(t(!0),i(r,null,c(a.group,(a=>(t(),i("li",{key:a.id,class:"fsa-nav-global__sub-menu-item"},[o(X,{to:a.path,class:"fsa-nav-global__sub-menu-link"},{default:_((()=>[b(u(a.label),1)])),_:2},1032,["to"])])))),128))],8,["aria-labelledby"])])))),128))],8,["aria-labelledby"])],8,["id"])])):"true"==a.hasChild&&a.columnClass==s.EXTRA_CLASSES&&"false"==a.hasHeaders?(t(),i("div",y,[o("button",{id:a.uid+"-BTN",onClick:e[2]||(e[2]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[o("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,["id"])],8,["id","aria-controls"]),o("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[o("div",S,[o("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid+"-SUB"},[(t(!0),i(r,null,c(a.children,(a=>(t(),i("li",{key:a.id,class:"fsa-nav-global__sub-menu-item"},[o(X,{to:a.path,class:"fsa-nav-global__sub-menu-link"},{default:_((()=>[b(u(a.label),1)])),_:2},1032,["to"])])))),128))],8,["aria-labelledby"])])],8,["id"])])):"true"==a.hasChild&&"false"==a.multiColumn?(t(),i("div",k,[o("button",{id:a.uid+"-BTN",onClick:e[3]||(e[3]=(...a)=>l.toggleMenu&&l.toggleMenu(...a)),class:"fsa-nav-global__link fsa-nav-global__link--has-sub-menu",type:"button","aria-expanded":"false","aria-controls":a.uid},[o("span",{class:"fsa-nav-global__text",id:a.uid+"-SUB"},u(a.label),9,["id"])],8,["id","aria-controls"]),o("div",{class:"fsa-nav-global__sub-menu",id:a.uid,"aria-hidden":"true"},[o("div",A,[o("ul",{class:"fsa-nav-global__sub-menu-list","aria-labelledby":a.uid+"-SUB"},[(t(!0),i(r,null,c(a.children,(a=>(t(),i("li",{key:a.id,class:"fsa-nav-global__sub-menu-item"},[o(X,{to:a.path,class:"fsa-nav-global__sub-menu-link"},{default:_((()=>[b(u(a.label),1)])),_:2},1032,["to"])])))),128))],8,["aria-labelledby"])])],8,["id"])])):(t(),i("div",C,[o(X,{to:a.path,class:"fsa-nav-global__link"},{default:_((()=>[o("span",E,u(a.label),1)])),_:2},1032,["to"])]))],2)))),128))]),s.NAV_DATA.side?(t(),i("div",M,[o("div",x,[(t(!0),i(r,null,c(s.NAV_DATA.side,(a=>(t(),i("span",{key:a.uid},[o(X,{to:a.path},{default:_((()=>[o("span",B,[a.icon?(t(),i("svg",{key:0,class:a.icon.class,"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[o("path",{d:a.icon.path},null,8,["d"])],2)):d("",!0),o("span",null,u(a.label),1)])])),_:2},1032,["to"])])))),128))])])):d("",!0),"true"==s.USE_SEARCH?(t(),i("div",T,[o("div",w,[o("div",L,[P,o("div",I,[o("button",{onClick:e[4]||(e[4]=(...a)=>l.doSearch&&l.doSearch(...a)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},[N])])])])])):d("",!0),"true"==s.USE_SCOPED_SEARCH?(t(),i("div",U,[o("div",H,[o("div",R,[D,o("div",F,[O,o("select",V,[(t(!0),i(r,null,c(a.SCOPED_SEARCH_CATEGORIES,(a=>(t(),i("option",{key:a.label,value:a.val,selected:a.selected},u(a.label),9,["value","selected"])))),128))])]),o("div",j,[o("button",{onClick:e[5]||(e[5]=(...a)=>l.doScopedSearch&&l.doScopedSearch(...a)),class:"fsa-btn fsa-btn--small fsa-search__btn fsa-search__btn--icon"},[K])])])])])):d("",!0)])])])};export{h as _};
